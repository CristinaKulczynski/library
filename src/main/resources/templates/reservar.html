<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Reservar Livros</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}" />


    <meta name="_csrf" th:content="${_csrf.token}" />
    <meta name="_csrf_header" th:content="${_csrf.headerName}" />

</head>
<body>

    <div class="voltar" style="width:80%; margin:20px auto;">
        <a th:href="@{/}">&larr; Voltar à Home</a>
    </div>

    <h2 style="text-align: center; margin-top: 20px;">Reservar Livros Disponíveis</h2>

    <table id="availTable">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Código</th>
            </tr>
        </thead>
        <tbody>

            <tr th:each="book : ${books}"
                th:attr="data-code=${book.code}, data-name=${book.name}">
                <td th:text="${book.name}">NOME DO LIVRO</td>
                <td th:text="${book.code}">CÓDIGO</td>

            </tr>

            <tr th:if="${books.empty}">
                <td colspan="2" style="text-align:center; color:#888;">
                    Nenhum livro disponível para reserva.
                </td>
            </tr>
        </tbody>
    </table>


    <div class="reservation-block">
        <label for="selectedBook">Livro selecionado:</label>
        <input type="text"
               id="selectedBook"
               readonly
               placeholder="Clique em um livro acima" />
        <button id="reserveBtn" disabled>Reservar</button>
    </div>

    <script th:src="@{/js/reserve-selection.js}"></script>
</body>
</html>
